ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"modbusRTU.cpp"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "App/ModbusRTU/modbusRTU.cpp"
  18              		.section	.text._ZN9ModbusRTUC2EP20__UART_HandleTypeDef,"ax",%progbits
  19              		.align	1
  20              		.global	_ZN9ModbusRTUC2EP20__UART_HandleTypeDef
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	_ZN9ModbusRTUC2EP20__UART_HandleTypeDef:
  26              		.fnstart
  27              	.LVL0:
  28              	.LFB75:
   1:App/ModbusRTU/modbusRTU.cpp **** #include "modbusRTU.h"
   2:App/ModbusRTU/modbusRTU.cpp **** #include "stm32Abstract.h"
   3:App/ModbusRTU/modbusRTU.cpp **** #include <stdlib.h>
   4:App/ModbusRTU/modbusRTU.cpp **** 
   5:App/ModbusRTU/modbusRTU.cpp **** 
   6:App/ModbusRTU/modbusRTU.cpp **** /*
   7:App/ModbusRTU/modbusRTU.cpp **** =====================================================================
   8:App/ModbusRTU/modbusRTU.cpp ****     PRIVATE FUNCTIONS
   9:App/ModbusRTU/modbusRTU.cpp **** =====================================================================
  10:App/ModbusRTU/modbusRTU.cpp **** */
  11:App/ModbusRTU/modbusRTU.cpp **** 
  12:App/ModbusRTU/modbusRTU.cpp **** 
  13:App/ModbusRTU/modbusRTU.cpp **** /*
  14:App/ModbusRTU/modbusRTU.cpp **** =====================================================================
  15:App/ModbusRTU/modbusRTU.cpp ****     CONSTRUCTORS
  16:App/ModbusRTU/modbusRTU.cpp **** =====================================================================
  17:App/ModbusRTU/modbusRTU.cpp **** */
  18:App/ModbusRTU/modbusRTU.cpp **** 
  19:App/ModbusRTU/modbusRTU.cpp **** ModbusRTU::ModbusRTU(UART_HandleTypeDef *hserial)
  29              		.loc 1 19 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              	.LBB2:
  20:App/ModbusRTU/modbusRTU.cpp ****     : _serial(hserial)
  35              		.loc 1 20 7 is_stmt 0 view .LVU1
  36 0000 4160     		str	r1, [r0, #4]
  37              	.LBE2:
  21:App/ModbusRTU/modbusRTU.cpp **** {
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s 			page 2


  22:App/ModbusRTU/modbusRTU.cpp **** }
  38              		.loc 1 22 1 view .LVU2
  39 0002 7047     		bx	lr
  40              		.cfi_endproc
  41              	.LFE75:
  42              		.cantunwind
  43              		.fnend
  45              		.global	_ZN9ModbusRTUC1EP20__UART_HandleTypeDef
  46              		.thumb_set _ZN9ModbusRTUC1EP20__UART_HandleTypeDef,_ZN9ModbusRTUC2EP20__UART_HandleTypeDef
  47              		.section	.text._ZN9ModbusRTU4initEv,"ax",%progbits
  48              		.align	1
  49              		.global	_ZN9ModbusRTU4initEv
  50              		.syntax unified
  51              		.thumb
  52              		.thumb_func
  54              	_ZN9ModbusRTU4initEv:
  55              		.fnstart
  56              	.LVL1:
  57              	.LFB77:
  23:App/ModbusRTU/modbusRTU.cpp **** 
  24:App/ModbusRTU/modbusRTU.cpp **** 
  25:App/ModbusRTU/modbusRTU.cpp **** /*
  26:App/ModbusRTU/modbusRTU.cpp **** =====================================================================
  27:App/ModbusRTU/modbusRTU.cpp ****     METHODS
  28:App/ModbusRTU/modbusRTU.cpp **** =====================================================================
  29:App/ModbusRTU/modbusRTU.cpp **** */
  30:App/ModbusRTU/modbusRTU.cpp **** 
  31:App/ModbusRTU/modbusRTU.cpp **** void ModbusRTU::init()
  32:App/ModbusRTU/modbusRTU.cpp **** {
  58              		.loc 1 32 1 is_stmt 1 view -0
  59              		.cfi_startproc
  60              		@ args = 0, pretend = 0, frame = 0
  61              		@ frame_needed = 0, uses_anonymous_args = 0
  62              		.loc 1 32 1 is_stmt 0 view .LVU4
  63 0000 10B5     		push	{r4, lr}
  64              	.LCFI0:
  65              		.cfi_def_cfa_offset 8
  66              		.cfi_offset 4, -8
  67              		.cfi_offset 14, -4
  68 0002 0446     		mov	r4, r0
  33:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::receiveBuffer = (uint8_t *)calloc(8, sizeof(uint8_t));
  69              		.loc 1 33 5 is_stmt 1 view .LVU5
  70              		.loc 1 33 49 is_stmt 0 view .LVU6
  71 0004 0121     		movs	r1, #1
  72 0006 0820     		movs	r0, #8
  73              	.LVL2:
  74              		.loc 1 33 49 view .LVU7
  75 0008 FFF7FEFF 		bl	calloc
  76              	.LVL3:
  77              		.loc 1 33 30 discriminator 1 view .LVU8
  78 000c 2060     		str	r0, [r4]
  34:App/ModbusRTU/modbusRTU.cpp **** }
  79              		.loc 1 34 1 view .LVU9
  80 000e 10BD     		pop	{r4, pc}
  81              		.loc 1 34 1 view .LVU10
  82              		.cfi_endproc
  83              	.LFE77:
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s 			page 3


  84              		.cantunwind
  85              		.fnend
  87              		.section	.text._ZN9ModbusRTU9appendCRCEPh,"ax",%progbits
  88              		.align	1
  89              		.global	_ZN9ModbusRTU9appendCRCEPh
  90              		.syntax unified
  91              		.thumb
  92              		.thumb_func
  94              	_ZN9ModbusRTU9appendCRCEPh:
  95              		.fnstart
  96              	.LVL4:
  97              	.LFB79:
  35:App/ModbusRTU/modbusRTU.cpp **** 
  36:App/ModbusRTU/modbusRTU.cpp **** void ModbusRTU::request(uint8_t slaveAddress, uint8_t funcCode, uint16_t startReg, uint16_t regCoun
  37:App/ModbusRTU/modbusRTU.cpp **** {
  38:App/ModbusRTU/modbusRTU.cpp ****     if (funcCode != MODBUS_RTU_READ_COIL &&
  39:App/ModbusRTU/modbusRTU.cpp ****         funcCode != MODBUS_RTU_READ_DISCRETE_INPUTS &&
  40:App/ModbusRTU/modbusRTU.cpp ****         funcCode != MODBUS_RTU_READ_HOLDING_REGISTERS &&
  41:App/ModbusRTU/modbusRTU.cpp ****         funcCode != MODBUS_RTU_READ_INPUT_REGISTERS)
  42:App/ModbusRTU/modbusRTU.cpp ****         return;
  43:App/ModbusRTU/modbusRTU.cpp **** 
  44:App/ModbusRTU/modbusRTU.cpp ****     // Prepare send buffer:
  45:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[0] = slaveAddress;
  46:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[1] = funcCode;
  47:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[2] = (startReg >> 8) & 0xFF;
  48:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[3] = (startReg >> 0) & 0xFF;
  49:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[4] = (regCount >> 8) & 0xFF;
  50:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[5] = (regCount >> 0) & 0xFF;
  51:App/ModbusRTU/modbusRTU.cpp ****     // Calculate and append CRC:
  52:App/ModbusRTU/modbusRTU.cpp ****     uint16_t clientCRC = appendCRC(_sendBuffer);
  53:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[6] = (uint8_t)((clientCRC >> 0) & 0xFF);
  54:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[7] = (uint8_t)((clientCRC >> 8) & 0xFF);
  55:App/ModbusRTU/modbusRTU.cpp **** 
  56:App/ModbusRTU/modbusRTU.cpp ****     // Allocate memory for receive buffer:
  57:App/ModbusRTU/modbusRTU.cpp ****     _requestedBytes = (uint8_t)(regCount * 2);
  58:App/ModbusRTU/modbusRTU.cpp ****     free(ModbusRTU::receiveBuffer);
  59:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::receiveBuffer = (uint8_t *)calloc(_requestedBytes + 5, sizeof(uint8_t));
  60:App/ModbusRTU/modbusRTU.cpp **** 
  61:App/ModbusRTU/modbusRTU.cpp ****     // Send to modbus server, then listen:
  62:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::send();
  63:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::receive();
  64:App/ModbusRTU/modbusRTU.cpp **** }
  65:App/ModbusRTU/modbusRTU.cpp **** 
  66:App/ModbusRTU/modbusRTU.cpp **** uint16_t ModbusRTU::appendCRC(uint8_t *data)
  67:App/ModbusRTU/modbusRTU.cpp **** {
  98              		.loc 1 67 1 is_stmt 1 view -0
  99              		.cfi_startproc
 100              		@ args = 0, pretend = 0, frame = 0
 101              		@ frame_needed = 0, uses_anonymous_args = 0
 102              		@ link register save eliminated.
  68:App/ModbusRTU/modbusRTU.cpp ****     uint16_t crc = 0xFFFF;
 103              		.loc 1 68 5 view .LVU12
  69:App/ModbusRTU/modbusRTU.cpp ****     for (uint16_t i = 0; i < 6; i++)
 104              		.loc 1 69 5 view .LVU13
 105              	.LBB3:
 106              		.loc 1 69 19 is_stmt 0 view .LVU14
 107 0000 4FF0000C 		mov	ip, #0
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s 			page 4


 108              	.LBE3:
  68:App/ModbusRTU/modbusRTU.cpp ****     uint16_t crc = 0xFFFF;
 109              		.loc 1 68 14 view .LVU15
 110 0004 4FF6FF70 		movw	r0, #65535
 111              	.LVL5:
 112              	.LBB8:
 113              		.loc 1 69 5 view .LVU16
 114 0008 10E0     		b	.L5
 115              	.LVL6:
 116              	.L7:
 117              	.LBB4:
 118              	.LBB5:
  70:App/ModbusRTU/modbusRTU.cpp ****     {
  71:App/ModbusRTU/modbusRTU.cpp ****         crc ^= data[i];
  72:App/ModbusRTU/modbusRTU.cpp ****         for (uint8_t j = 0; j < 8; j++) 
  73:App/ModbusRTU/modbusRTU.cpp ****         { 
  74:App/ModbusRTU/modbusRTU.cpp ****             if (crc & 0b1)
  75:App/ModbusRTU/modbusRTU.cpp ****             {
  76:App/ModbusRTU/modbusRTU.cpp ****                 crc >>= 1;
  77:App/ModbusRTU/modbusRTU.cpp ****                 crc ^= 0xA001; // Polynomial
  78:App/ModbusRTU/modbusRTU.cpp ****             }
  79:App/ModbusRTU/modbusRTU.cpp ****             else crc >>= 1;
 119              		.loc 1 79 18 is_stmt 1 view .LVU17
 120              		.loc 1 79 22 is_stmt 0 view .LVU18
 121 000a 4008     		lsrs	r0, r0, #1
 122              	.LVL7:
 123              	.L8:
  72:App/ModbusRTU/modbusRTU.cpp ****         { 
 124              		.loc 1 72 9 is_stmt 1 discriminator 2 view .LVU19
 125 000c 0133     		adds	r3, r3, #1
 126              	.LVL8:
  72:App/ModbusRTU/modbusRTU.cpp ****         { 
 127              		.loc 1 72 9 is_stmt 0 discriminator 2 view .LVU20
 128 000e DBB2     		uxtb	r3, r3
 129              	.LVL9:
 130              	.L6:
  72:App/ModbusRTU/modbusRTU.cpp ****         { 
 131              		.loc 1 72 31 is_stmt 1 discriminator 1 view .LVU21
 132 0010 072B     		cmp	r3, #7
 133 0012 07D8     		bhi	.L11
  74:App/ModbusRTU/modbusRTU.cpp ****             {
 134              		.loc 1 74 13 view .LVU22
 135 0014 10F0010F 		tst	r0, #1
 136 0018 F7D0     		beq	.L7
  76:App/ModbusRTU/modbusRTU.cpp ****                 crc ^= 0xA001; // Polynomial
 137              		.loc 1 76 17 view .LVU23
 138              	.LVL10:
  77:App/ModbusRTU/modbusRTU.cpp ****             }
 139              		.loc 1 77 17 view .LVU24
  77:App/ModbusRTU/modbusRTU.cpp ****             }
 140              		.loc 1 77 21 is_stmt 0 view .LVU25
 141 001a 4AF20102 		movw	r2, #40961
 142 001e 82EA5000 		eor	r0, r2, r0, lsr #1
 143              	.LVL11:
  77:App/ModbusRTU/modbusRTU.cpp ****             }
 144              		.loc 1 77 21 view .LVU26
 145 0022 F3E7     		b	.L8
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s 			page 5


 146              	.L11:
  77:App/ModbusRTU/modbusRTU.cpp ****             }
 147              		.loc 1 77 21 view .LVU27
 148              	.LBE5:
 149              	.LBE4:
  69:App/ModbusRTU/modbusRTU.cpp ****     {
 150              		.loc 1 69 5 is_stmt 1 discriminator 2 view .LVU28
 151 0024 0CF1010C 		add	ip, ip, #1
 152              	.LVL12:
  69:App/ModbusRTU/modbusRTU.cpp ****     {
 153              		.loc 1 69 5 is_stmt 0 discriminator 2 view .LVU29
 154 0028 1FFA8CFC 		uxth	ip, ip
 155              	.LVL13:
 156              	.L5:
  69:App/ModbusRTU/modbusRTU.cpp ****     {
 157              		.loc 1 69 28 is_stmt 1 discriminator 1 view .LVU30
 158 002c BCF1050F 		cmp	ip, #5
 159 0030 04D8     		bhi	.L12
 160              	.LBB7:
  71:App/ModbusRTU/modbusRTU.cpp ****         for (uint8_t j = 0; j < 8; j++) 
 161              		.loc 1 71 9 view .LVU31
  71:App/ModbusRTU/modbusRTU.cpp ****         for (uint8_t j = 0; j < 8; j++) 
 162              		.loc 1 71 22 is_stmt 0 view .LVU32
 163 0032 11F80C30 		ldrb	r3, [r1, ip]	@ zero_extendqisi2
  71:App/ModbusRTU/modbusRTU.cpp ****         for (uint8_t j = 0; j < 8; j++) 
 164              		.loc 1 71 13 view .LVU33
 165 0036 5840     		eors	r0, r0, r3
 166              	.LVL14:
  72:App/ModbusRTU/modbusRTU.cpp ****         { 
 167              		.loc 1 72 9 is_stmt 1 view .LVU34
 168              	.LBB6:
  72:App/ModbusRTU/modbusRTU.cpp ****         { 
 169              		.loc 1 72 22 is_stmt 0 view .LVU35
 170 0038 0023     		movs	r3, #0
  72:App/ModbusRTU/modbusRTU.cpp ****         { 
 171              		.loc 1 72 9 view .LVU36
 172 003a E9E7     		b	.L6
 173              	.LVL15:
 174              	.L12:
  72:App/ModbusRTU/modbusRTU.cpp ****         { 
 175              		.loc 1 72 9 view .LVU37
 176              	.LBE6:
 177              	.LBE7:
 178              	.LBE8:
  80:App/ModbusRTU/modbusRTU.cpp ****         }
  81:App/ModbusRTU/modbusRTU.cpp ****     }
  82:App/ModbusRTU/modbusRTU.cpp ****     return crc;
 179              		.loc 1 82 5 is_stmt 1 view .LVU38
  83:App/ModbusRTU/modbusRTU.cpp **** }
 180              		.loc 1 83 1 is_stmt 0 view .LVU39
 181 003c 7047     		bx	lr
 182              		.cfi_endproc
 183              	.LFE79:
 184              		.cantunwind
 185              		.fnend
 187              		.section	.text._ZN9ModbusRTU4sendEv,"ax",%progbits
 188              		.align	1
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s 			page 6


 189              		.global	_ZN9ModbusRTU4sendEv
 190              		.syntax unified
 191              		.thumb
 192              		.thumb_func
 194              	_ZN9ModbusRTU4sendEv:
 195              		.fnstart
 196              	.LVL16:
 197              	.LFB80:
  84:App/ModbusRTU/modbusRTU.cpp **** 
  85:App/ModbusRTU/modbusRTU.cpp **** void ModbusRTU::send()
  86:App/ModbusRTU/modbusRTU.cpp **** { HAL_UART_Transmit(_serial, _sendBuffer, 8, HAL_MAX_DELAY); }
 198              		.loc 1 86 1 is_stmt 1 view -0
 199              		.cfi_startproc
 200              		@ args = 0, pretend = 0, frame = 0
 201              		@ frame_needed = 0, uses_anonymous_args = 0
 202              		.loc 1 86 1 is_stmt 0 view .LVU41
 203 0000 08B5     		push	{r3, lr}
 204              		.save {r3, lr}
 205              	.LCFI1:
 206              		.cfi_def_cfa_offset 8
 207              		.cfi_offset 3, -8
 208              		.cfi_offset 14, -4
 209              		.loc 1 86 3 is_stmt 1 view .LVU42
 210              		.loc 1 86 20 is_stmt 0 view .LVU43
 211 0002 4FF0FF33 		mov	r3, #-1
 212 0006 0822     		movs	r2, #8
 213 0008 8118     		adds	r1, r0, r2
 214 000a 4068     		ldr	r0, [r0, #4]
 215              	.LVL17:
 216              		.loc 1 86 20 view .LVU44
 217 000c FFF7FEFF 		bl	HAL_UART_Transmit
 218              	.LVL18:
 219              		.loc 1 86 62 view .LVU45
 220 0010 08BD     		pop	{r3, pc}
 221              		.cfi_endproc
 222              	.LFE80:
 223              		.fnend
 225              		.section	.text._ZN9ModbusRTU7receiveEv,"ax",%progbits
 226              		.align	1
 227              		.global	_ZN9ModbusRTU7receiveEv
 228              		.syntax unified
 229              		.thumb
 230              		.thumb_func
 232              	_ZN9ModbusRTU7receiveEv:
 233              		.fnstart
 234              	.LVL19:
 235              	.LFB81:
  87:App/ModbusRTU/modbusRTU.cpp **** void ModbusRTU::receive()
  88:App/ModbusRTU/modbusRTU.cpp **** {
 236              		.loc 1 88 1 is_stmt 1 view -0
 237              		.cfi_startproc
 238              		@ args = 0, pretend = 0, frame = 0
 239              		@ frame_needed = 0, uses_anonymous_args = 0
 240              		.loc 1 88 1 is_stmt 0 view .LVU47
 241 0000 08B5     		push	{r3, lr}
 242              		.save {r3, lr}
 243              	.LCFI2:
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s 			page 7


 244              		.cfi_def_cfa_offset 8
 245              		.cfi_offset 3, -8
 246              		.cfi_offset 14, -4
  89:App/ModbusRTU/modbusRTU.cpp ****     HAL_UART_Receive(_serial, receiveBuffer, _requestedBytes + 5, 100);
 247              		.loc 1 89 5 is_stmt 1 view .LVU48
 248              		.loc 1 89 46 is_stmt 0 view .LVU49
 249 0002 027C     		ldrb	r2, [r0, #16]	@ zero_extendqisi2
 250              		.loc 1 89 21 view .LVU50
 251 0004 6423     		movs	r3, #100
 252 0006 0532     		adds	r2, r2, #5
 253 0008 0168     		ldr	r1, [r0]
 254 000a 4068     		ldr	r0, [r0, #4]
 255              	.LVL20:
 256              		.loc 1 89 21 view .LVU51
 257 000c FFF7FEFF 		bl	HAL_UART_Receive
 258              	.LVL21:
  90:App/ModbusRTU/modbusRTU.cpp ****     // __STM32flipGPIO(PC13);
  91:App/ModbusRTU/modbusRTU.cpp **** }...
 259              		.loc 1 91 1 view .LVU52
 260 0010 08BD     		pop	{r3, pc}
 261              		.cfi_endproc
 262              	.LFE81:
 263              		.fnend
 265              		.section	.text._ZN9ModbusRTU7requestEhhtt,"ax",%progbits
 266              		.align	1
 267              		.global	_ZN9ModbusRTU7requestEhhtt
 268              		.syntax unified
 269              		.thumb
 270              		.thumb_func
 272              	_ZN9ModbusRTU7requestEhhtt:
 273              		.fnstart
 274              	.LVL22:
 275              	.LFB78:
  37:App/ModbusRTU/modbusRTU.cpp **** {
 276              		.loc 1 37 1 is_stmt 1 view -0
 277              		.cfi_startproc
 278              		@ args = 4, pretend = 0, frame = 0
 279              		@ frame_needed = 0, uses_anonymous_args = 0
  37:App/ModbusRTU/modbusRTU.cpp **** {
 280              		.loc 1 37 1 is_stmt 0 view .LVU54
 281 0000 38B5     		push	{r3, r4, r5, lr}
 282              		.save {r3, r4, r5, lr}
 283              	.LCFI3:
 284              		.cfi_def_cfa_offset 16
 285              		.cfi_offset 3, -16
 286              		.cfi_offset 4, -12
 287              		.cfi_offset 5, -8
 288              		.cfi_offset 14, -4
 289 0002 0446     		mov	r4, r0
 290 0004 BDF81000 		ldrh	r0, [sp, #16]
 291              	.LVL23:
  38:App/ModbusRTU/modbusRTU.cpp ****     if (funcCode != MODBUS_RTU_READ_COIL &&
 292              		.loc 1 38 5 is_stmt 1 view .LVU55
  40:App/ModbusRTU/modbusRTU.cpp ****         funcCode != MODBUS_RTU_READ_HOLDING_REGISTERS &&
 293              		.loc 1 40 55 is_stmt 0 view .LVU56
 294 0008 551E     		subs	r5, r2, #1
 295 000a EDB2     		uxtb	r5, r5
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s 			page 8


  38:App/ModbusRTU/modbusRTU.cpp ****     if (funcCode != MODBUS_RTU_READ_COIL &&
 296              		.loc 1 38 5 view .LVU57
 297 000c 032D     		cmp	r5, #3
 298 000e 00D9     		bls	.L20
 299              	.LVL24:
 300              	.L17:
  64:App/ModbusRTU/modbusRTU.cpp **** }
 301              		.loc 1 64 1 view .LVU58
 302 0010 38BD     		pop	{r3, r4, r5, pc}
 303              	.LVL25:
 304              	.L20:
  45:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[0] = slaveAddress;
 305              		.loc 1 45 5 is_stmt 1 view .LVU59
  45:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[0] = slaveAddress;
 306              		.loc 1 45 20 is_stmt 0 view .LVU60
 307 0012 2172     		strb	r1, [r4, #8]
  46:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[1] = funcCode;
 308              		.loc 1 46 5 is_stmt 1 view .LVU61
  46:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[1] = funcCode;
 309              		.loc 1 46 20 is_stmt 0 view .LVU62
 310 0014 6272     		strb	r2, [r4, #9]
  47:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[2] = (startReg >> 8) & 0xFF;
 311              		.loc 1 47 5 is_stmt 1 view .LVU63
  47:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[2] = (startReg >> 8) & 0xFF;
 312              		.loc 1 47 32 is_stmt 0 view .LVU64
 313 0016 1A0A     		lsrs	r2, r3, #8
 314              	.LVL26:
  47:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[2] = (startReg >> 8) & 0xFF;
 315              		.loc 1 47 20 view .LVU65
 316 0018 A272     		strb	r2, [r4, #10]
  48:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[3] = (startReg >> 0) & 0xFF;
 317              		.loc 1 48 5 is_stmt 1 view .LVU66
  48:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[3] = (startReg >> 0) & 0xFF;
 318              		.loc 1 48 20 is_stmt 0 view .LVU67
 319 001a E372     		strb	r3, [r4, #11]
  49:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[4] = (regCount >> 8) & 0xFF;
 320              		.loc 1 49 5 is_stmt 1 view .LVU68
  49:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[4] = (regCount >> 8) & 0xFF;
 321              		.loc 1 49 32 is_stmt 0 view .LVU69
 322 001c 030A     		lsrs	r3, r0, #8
 323              	.LVL27:
  49:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[4] = (regCount >> 8) & 0xFF;
 324              		.loc 1 49 20 view .LVU70
 325 001e 2373     		strb	r3, [r4, #12]
  50:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[5] = (regCount >> 0) & 0xFF;
 326              		.loc 1 50 5 is_stmt 1 view .LVU71
  50:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[5] = (regCount >> 0) & 0xFF;
 327              		.loc 1 50 20 is_stmt 0 view .LVU72
 328 0020 C5B2     		uxtb	r5, r0
 329 0022 6573     		strb	r5, [r4, #13]
  52:App/ModbusRTU/modbusRTU.cpp ****     uint16_t clientCRC = appendCRC(_sendBuffer);
 330              		.loc 1 52 5 is_stmt 1 view .LVU73
  52:App/ModbusRTU/modbusRTU.cpp ****     uint16_t clientCRC = appendCRC(_sendBuffer);
 331              		.loc 1 52 35 is_stmt 0 view .LVU74
 332 0024 04F10801 		add	r1, r4, #8
 333              	.LVL28:
  52:App/ModbusRTU/modbusRTU.cpp ****     uint16_t clientCRC = appendCRC(_sendBuffer);
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s 			page 9


 334              		.loc 1 52 35 view .LVU75
 335 0028 2046     		mov	r0, r4
 336 002a FFF7FEFF 		bl	_ZN9ModbusRTU9appendCRCEPh
 337              	.LVL29:
  53:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[6] = (uint8_t)((clientCRC >> 0) & 0xFF);
 338              		.loc 1 53 5 is_stmt 1 view .LVU76
  53:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[6] = (uint8_t)((clientCRC >> 0) & 0xFF);
 339              		.loc 1 53 20 is_stmt 0 view .LVU77
 340 002e A073     		strb	r0, [r4, #14]
  54:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[7] = (uint8_t)((clientCRC >> 8) & 0xFF);
 341              		.loc 1 54 5 is_stmt 1 view .LVU78
  54:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[7] = (uint8_t)((clientCRC >> 8) & 0xFF);
 342              		.loc 1 54 43 is_stmt 0 view .LVU79
 343 0030 C0F30F20 		ubfx	r0, r0, #8, #16
 344              	.LVL30:
  54:App/ModbusRTU/modbusRTU.cpp ****     _sendBuffer[7] = (uint8_t)((clientCRC >> 8) & 0xFF);
 345              		.loc 1 54 20 view .LVU80
 346 0034 E073     		strb	r0, [r4, #15]
  57:App/ModbusRTU/modbusRTU.cpp ****     _requestedBytes = (uint8_t)(regCount * 2);
 347              		.loc 1 57 5 is_stmt 1 view .LVU81
  57:App/ModbusRTU/modbusRTU.cpp ****     _requestedBytes = (uint8_t)(regCount * 2);
 348              		.loc 1 57 21 is_stmt 0 view .LVU82
 349 0036 6800     		lsls	r0, r5, #1
 350 0038 2074     		strb	r0, [r4, #16]
  58:App/ModbusRTU/modbusRTU.cpp ****     free(ModbusRTU::receiveBuffer);
 351              		.loc 1 58 5 is_stmt 1 view .LVU83
  58:App/ModbusRTU/modbusRTU.cpp ****     free(ModbusRTU::receiveBuffer);
 352              		.loc 1 58 9 is_stmt 0 view .LVU84
 353 003a 2068     		ldr	r0, [r4]
 354 003c FFF7FEFF 		bl	free
 355              	.LVL31:
  59:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::receiveBuffer = (uint8_t *)calloc(_requestedBytes + 5, sizeof(uint8_t));
 356              		.loc 1 59 5 is_stmt 1 view .LVU85
  59:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::receiveBuffer = (uint8_t *)calloc(_requestedBytes + 5, sizeof(uint8_t));
 357              		.loc 1 59 50 is_stmt 0 view .LVU86
 358 0040 207C     		ldrb	r0, [r4, #16]	@ zero_extendqisi2
  59:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::receiveBuffer = (uint8_t *)calloc(_requestedBytes + 5, sizeof(uint8_t));
 359              		.loc 1 59 49 view .LVU87
 360 0042 0121     		movs	r1, #1
 361 0044 0530     		adds	r0, r0, #5
 362 0046 FFF7FEFF 		bl	calloc
 363              	.LVL32:
  59:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::receiveBuffer = (uint8_t *)calloc(_requestedBytes + 5, sizeof(uint8_t));
 364              		.loc 1 59 30 discriminator 1 view .LVU88
 365 004a 2060     		str	r0, [r4]
  62:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::send();
 366              		.loc 1 62 5 is_stmt 1 view .LVU89
  62:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::send();
 367              		.loc 1 62 20 is_stmt 0 view .LVU90
 368 004c 2046     		mov	r0, r4
 369 004e FFF7FEFF 		bl	_ZN9ModbusRTU4sendEv
 370              	.LVL33:
  63:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::receive();
 371              		.loc 1 63 5 is_stmt 1 view .LVU91
  63:App/ModbusRTU/modbusRTU.cpp ****     ModbusRTU::receive();
 372              		.loc 1 63 23 is_stmt 0 view .LVU92
 373 0052 2046     		mov	r0, r4
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s 			page 10


 374 0054 FFF7FEFF 		bl	_ZN9ModbusRTU7receiveEv
 375              	.LVL34:
 376 0058 DAE7     		b	.L17
 377              		.cfi_endproc
 378              	.LFE78:
 379              		.fnend
 381              		.text
 382              	.Letext0:
 383              		.file 2 "C:/msys64/mingw64/arm-none-eabi/include/machine/_default_types.h"
 384              		.file 3 "C:/msys64/mingw64/arm-none-eabi/include/sys/_stdint.h"
 385              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 386              		.file 5 "C:/msys64/mingw64/lib/gcc/arm-none-eabi/13.3.0/include/stddef.h"
 387              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 388              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 389              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 390              		.file 9 "App/ModbusRTU/modbusRTU.h"
 391              		.file 10 "C:/msys64/mingw64/arm-none-eabi/include/c++/13.3.0/cstdlib"
 392              		.file 11 "C:/msys64/mingw64/arm-none-eabi/include/c++/13.3.0/bits/std_abs.h"
 393              		.file 12 "C:/msys64/mingw64/arm-none-eabi/include/c++/13.3.0/arm-none-eabi/thumb/v7-m/nofp/bits/c+
 394              		.file 13 "C:/msys64/mingw64/arm-none-eabi/include/stdlib.h"
 395              		.file 14 "C:/msys64/mingw64/arm-none-eabi/include/c++/13.3.0/stdlib.h"
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 modbusRTU.cpp
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:19     .text._ZN9ModbusRTUC2EP20__UART_HandleTypeDef:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:25     .text._ZN9ModbusRTUC2EP20__UART_HandleTypeDef:00000000 _ZN9ModbusRTUC2EP20__UART_HandleTypeDef
.ARM.exidx.text._ZN9ModbusRTUC2EP20__UART_HandleTypeDef:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:25     .text._ZN9ModbusRTUC2EP20__UART_HandleTypeDef:00000000 _ZN9ModbusRTUC1EP20__UART_HandleTypeDef
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:48     .text._ZN9ModbusRTU4initEv:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:54     .text._ZN9ModbusRTU4initEv:00000000 _ZN9ModbusRTU4initEv
.ARM.exidx.text._ZN9ModbusRTU4initEv:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:88     .text._ZN9ModbusRTU9appendCRCEPh:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:94     .text._ZN9ModbusRTU9appendCRCEPh:00000000 _ZN9ModbusRTU9appendCRCEPh
.ARM.exidx.text._ZN9ModbusRTU9appendCRCEPh:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:188    .text._ZN9ModbusRTU4sendEv:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:194    .text._ZN9ModbusRTU4sendEv:00000000 _ZN9ModbusRTU4sendEv
.ARM.extab.text._ZN9ModbusRTU4sendEv:00000000 $d
.ARM.exidx.text._ZN9ModbusRTU4sendEv:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:226    .text._ZN9ModbusRTU7receiveEv:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:232    .text._ZN9ModbusRTU7receiveEv:00000000 _ZN9ModbusRTU7receiveEv
.ARM.extab.text._ZN9ModbusRTU7receiveEv:00000000 $d
.ARM.exidx.text._ZN9ModbusRTU7receiveEv:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:266    .text._ZN9ModbusRTU7requestEhhtt:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\ccdipHEg.s:272    .text._ZN9ModbusRTU7requestEhhtt:00000000 _ZN9ModbusRTU7requestEhhtt
.ARM.exidx.text._ZN9ModbusRTU7requestEhhtt:00000000 $d

UNDEFINED SYMBOLS
calloc
HAL_UART_Transmit
__aeabi_unwind_cpp_pr1
HAL_UART_Receive
free
__aeabi_unwind_cpp_pr0
