ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"app.cpp"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "App/app.cpp"
  18              		.section	.text._Z41__static_initialization_and_destruction_0ii,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	_Z41__static_initialization_and_destruction_0ii:
  25              		.fnstart
  26              	.LVL0:
  27              	.LFB71:
   1:App/app.cpp   **** #include "app.h"
   2:App/app.cpp   **** #include "stm32Abstract.h"
   3:App/app.cpp   **** #include "ws2812b.h"
   4:App/app.cpp   **** #include "modbusRTU.h"
   5:App/app.cpp   **** #include <stdio.h>
   6:App/app.cpp   **** 
   7:App/app.cpp   **** 
   8:App/app.cpp   **** /*
   9:App/app.cpp   **** =====================================================================
  10:App/app.cpp   ****     MISCELLANEOUS
  11:App/app.cpp   **** =====================================================================
  12:App/app.cpp   **** */
  13:App/app.cpp   **** extern UART_HandleTypeDef huart2;
  14:App/app.cpp   **** #ifdef __cplusplus
  15:App/app.cpp   **** extern "C" {
  16:App/app.cpp   **** #endif /* __cplusplus */
  17:App/app.cpp   **** #ifdef __GNUC__
  18:App/app.cpp   **** #define PUTCHAR_PROTOTYPE int __io_putchar(int ch)
  19:App/app.cpp   **** #else
  20:App/app.cpp   **** #define PUTCHAR_PROTOTYPE int fputc(int ch, FILE *f)
  21:App/app.cpp   **** #endif
  22:App/app.cpp   **** PUTCHAR_PROTOTYPE
  23:App/app.cpp   **** {
  24:App/app.cpp   ****     // -------------- Change huart_x to your appropriate Hardware UART/USART
  25:App/app.cpp   ****     HAL_UART_Transmit(&huart2, (uint8_t *)&ch, 1, HAL_MAX_DELAY);
  26:App/app.cpp   ****     return ch;
  27:App/app.cpp   **** }
  28:App/app.cpp   **** #ifdef __cplusplus
  29:App/app.cpp   **** }
  30:App/app.cpp   **** #endif /* __cplusplus */
  31:App/app.cpp   **** 
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 2


  32:App/app.cpp   **** 
  33:App/app.cpp   **** /*
  34:App/app.cpp   **** =====================================================================
  35:App/app.cpp   ****     INSTANCING
  36:App/app.cpp   **** =====================================================================
  37:App/app.cpp   **** */
  38:App/app.cpp   **** 
  39:App/app.cpp   **** extern TIM_HandleTypeDef htim1;
  40:App/app.cpp   **** extern DMA_HandleTypeDef hdma_tim1_ch1;
  41:App/app.cpp   **** WS2812B led = WS2812B(&htim1, TIM_CHANNEL_1, 60);
  42:App/app.cpp   **** 
  43:App/app.cpp   **** extern UART_HandleTypeDef huart1;
  44:App/app.cpp   **** ModbusRTU modbusClient = ModbusRTU(&huart1);
  45:App/app.cpp   **** 
  46:App/app.cpp   **** uint8_t valueChanged = 0;
  47:App/app.cpp   **** uint8_t volt_MSB, volt_LSB, curr_MSB, curr_LSB;
  48:App/app.cpp   **** uint32_t transitionTick = 0;
  49:App/app.cpp   **** 
  50:App/app.cpp   **** 
  51:App/app.cpp   **** /*
  52:App/app.cpp   **** =====================================================================
  53:App/app.cpp   ****     SETUP
  54:App/app.cpp   **** =====================================================================
  55:App/app.cpp   **** */
  56:App/app.cpp   **** void setup()
  57:App/app.cpp   **** {
  58:App/app.cpp   ****     HAL_Delay(1000);
  59:App/app.cpp   **** 
  60:App/app.cpp   ****     led.init();
  61:App/app.cpp   ****     // led.startCallbackClock();
  62:App/app.cpp   **** 
  63:App/app.cpp   ****     // modbusClient.init();
  64:App/app.cpp   ****     // modbusClient.request(0x01, 0x03, 0x00, 0x02);
  65:App/app.cpp   **** 
  66:App/app.cpp   ****     // led.gradient2Colors(0xFF0000, 0, 0x0000FF, 59);
  67:App/app.cpp   ****     // led.render();
  68:App/app.cpp   ****     // HAL_Delay(500);
  69:App/app.cpp   **** 
  70:App/app.cpp   ****     led.gradient2Colors(0xFF0000, 0, 0x00ffFF, 59);
  71:App/app.cpp   ****     // led.solidColor(0xFF0000, 0, 59);
  72:App/app.cpp   ****     led.render();
  73:App/app.cpp   ****     // HAL_Delay(2000);
  74:App/app.cpp   ****     led.gradient2Colors(0xFF0000, 0, 0x0000FF, 59);
  75:App/app.cpp   ****     // led.solidColor(0x00FFFF, 0, 59);
  76:App/app.cpp   **** }
  77:App/app.cpp   **** 
  78:App/app.cpp   **** 
  79:App/app.cpp   **** /*
  80:App/app.cpp   **** =====================================================================
  81:App/app.cpp   ****     MAIN LOOP
  82:App/app.cpp   **** =====================================================================
  83:App/app.cpp   **** */
  84:App/app.cpp   **** float tick = 0.00f;
  85:App/app.cpp   **** void loop()
  86:App/app.cpp   **** {
  87:App/app.cpp   ****     // if (!valueChanged)
  88:App/app.cpp   ****     //     return;
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 3


  89:App/app.cpp   **** 
  90:App/app.cpp   ****     // led.stopCallbackClock();
  91:App/app.cpp   **** 
  92:App/app.cpp   ****     // if (modbusClient.receiveBuffer[3] != volt_MSB ||
  93:App/app.cpp   ****     //     modbusClient.receiveBuffer[4] != volt_LSB ||
  94:App/app.cpp   ****     //     modbusClient.receiveBuffer[5] != curr_MSB ||
  95:App/app.cpp   ****     //     modbusClient.receiveBuffer[6] != curr_LSB)
  96:App/app.cpp   ****     // {
  97:App/app.cpp   ****     //     volt_MSB = modbusClient.receiveBuffer[3];
  98:App/app.cpp   ****     //     volt_LSB = modbusClient.receiveBuffer[4];
  99:App/app.cpp   ****     //     curr_MSB = modbusClient.receiveBuffer[5];
 100:App/app.cpp   ****     //     curr_LSB = modbusClient.receiveBuffer[6];
 101:App/app.cpp   ****     // }
 102:App/app.cpp   **** 
 103:App/app.cpp   **** 
 104:App/app.cpp   ****     // uint16_t volt = ((uint16_t)volt_MSB << 8) | ((uint16_t)volt_LSB << 0);
 105:App/app.cpp   ****     // uint16_t curr = ((uint16_t)curr_MSB << 8) | ((uint16_t)curr_LSB << 0);
 106:App/app.cpp   ****     // uint32_t ledColor;
 107:App/app.cpp   **** 
 108:App/app.cpp   ****     // if (__inProximity(volt, 250, 250))
 109:App/app.cpp   ****     //     ledColor = 0x0000FF;
 110:App/app.cpp   ****     // else if (__inProximity(volt, 750, 250))
 111:App/app.cpp   ****     //     ledColor = 0x00FFFF;
 112:App/app.cpp   ****     // else if (__inProximity(volt, 1250, 250))
 113:App/app.cpp   ****     //     ledColor = 0xFFFF00;
 114:App/app.cpp   ****     // else if (__inProximity(volt, 1750, 250))
 115:App/app.cpp   ****     //     ledColor = 0xFF6600;
 116:App/app.cpp   ****     // else if (__inProximity(volt, 2250, 250))
 117:App/app.cpp   ****     //     ledColor = 0xFF1F00;
 118:App/app.cpp   ****     // else if (__inProximity(volt, 2750, 250))
 119:App/app.cpp   ****     //     ledColor = 0xFF0000;
 120:App/app.cpp   ****     // else if (volt > 3000)
 121:App/app.cpp   ****     //     ledColor = 0x1100FF;
 122:App/app.cpp   **** 
 123:App/app.cpp   **** //     led.solidColor(ledColor, 0, 59);
 124:App/app.cpp   **** //     led.render();
 125:App/app.cpp   **** 
 126:App/app.cpp   **** //     valueChanged = 0;
 127:App/app.cpp   **** //     led.startCallbackClock();
 128:App/app.cpp   **** 
 129:App/app.cpp   ****     while (led.transition(&tick, 1000) != WS2812B_TRANSITION_FINISHED)
 130:App/app.cpp   ****         tick += 0.1f;
 131:App/app.cpp   ****     printf("DONE\n");
 132:App/app.cpp   **** }
 133:App/app.cpp   **** 
 134:App/app.cpp   **** 
 135:App/app.cpp   **** /*
 136:App/app.cpp   **** =====================================================================
 137:App/app.cpp   ****     CALLBACKS
 138:App/app.cpp   **** =====================================================================
 139:App/app.cpp   **** */
 140:App/app.cpp   **** void HAL_TIM_PWM_PulseFinishedCallback(TIM_HandleTypeDef *htim)
 141:App/app.cpp   **** {
 142:App/app.cpp   ****     HAL_TIM_PWM_Stop_DMA(&htim1, TIM_CHANNEL_1);
 143:App/app.cpp   ****     led.UPDATE_STATE = WS2812B_UPDATE_FINISHED;
 144:App/app.cpp   **** }
 145:App/app.cpp   **** 
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 4


 146:App/app.cpp   **** #define CALLED_TIMES_UNTIL_TRIGGERED (3125 * 2) // 2-second callback
 147:App/app.cpp   **** uint16_t callbackCounter = 0;
 148:App/app.cpp   **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)
 149:App/app.cpp   **** {
 150:App/app.cpp   ****     callbackCounter++;
 151:App/app.cpp   ****     if (callbackCounter < CALLED_TIMES_UNTIL_TRIGGERED)
 152:App/app.cpp   ****         return;
 153:App/app.cpp   **** 
 154:App/app.cpp   ****     modbusClient.request(0x01, MODBUS_RTU_READ_HOLDING_REGISTERS, 0x0002, 0x02);
 155:App/app.cpp   ****     valueChanged = 1;
 156:App/app.cpp   ****     callbackCounter = 0;
 157:App/app.cpp   **** 
 158:App/app.cpp   ****     __STM32flipGPIO(PC13);
 159:App/app.cpp   **** }
  28              		.loc 1 159 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 159 1 is_stmt 0 view .LVU1
  33 0000 0128     		cmp	r0, #1
  34 0002 00D0     		beq	.L7
  35 0004 7047     		bx	lr
  36              	.L7:
  37              		.loc 1 159 1 discriminator 1 view .LVU2
  38 0006 08B5     		push	{r3, lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 8
  41              		.cfi_offset 3, -8
  42              		.cfi_offset 14, -4
  43              		.loc 1 159 1 discriminator 1 view .LVU3
  44 0008 4FF6FF73 		movw	r3, #65535
  45 000c 9942     		cmp	r1, r3
  46 000e 00D0     		beq	.L8
  47              	.LVL1:
  48              	.L1:
  49              		.loc 1 159 1 view .LVU4
  50 0010 08BD     		pop	{r3, pc}
  51              	.LVL2:
  52              	.L8:
  41:App/app.cpp   **** 
  53              		.loc 1 41 9 view .LVU5
  54 0012 3C23     		movs	r3, #60
  55 0014 0022     		movs	r2, #0
  56 0016 0449     		ldr	r1, .L9
  57              	.LVL3:
  41:App/app.cpp   **** 
  58              		.loc 1 41 9 view .LVU6
  59 0018 0448     		ldr	r0, .L9+4
  60              	.LVL4:
  41:App/app.cpp   **** 
  61              		.loc 1 41 9 view .LVU7
  62 001a FFF7FEFF 		bl	_ZN7WS2812BC1EP17TIM_HandleTypeDefmt
  63              	.LVL5:
  44:App/app.cpp   **** 
  64              		.loc 1 44 11 view .LVU8
  65 001e 0449     		ldr	r1, .L9+8
  66 0020 0448     		ldr	r0, .L9+12
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 5


  67 0022 FFF7FEFF 		bl	_ZN9ModbusRTUC1EP20__UART_HandleTypeDef
  68              	.LVL6:
  69              		.loc 1 159 1 view .LVU9
  70 0026 F3E7     		b	.L1
  71              	.L10:
  72              		.align	2
  73              	.L9:
  74 0028 00000000 		.word	htim1
  75 002c 00000000 		.word	led
  76 0030 00000000 		.word	huart1
  77 0034 00000000 		.word	modbusClient
  78              		.cfi_endproc
  79              	.LFE71:
  80              		.cantunwind
  81              		.fnend
  83              		.section	.text.__io_putchar,"ax",%progbits
  84              		.align	1
  85              		.global	__io_putchar
  86              		.syntax unified
  87              		.thumb
  88              		.thumb_func
  90              	__io_putchar:
  91              		.fnstart
  92              	.LVL7:
  93              	.LFB66:
  23:App/app.cpp   ****     // -------------- Change huart_x to your appropriate Hardware UART/USART
  94              		.loc 1 23 1 is_stmt 1 view -0
  95              		.cfi_startproc
  96              		@ args = 0, pretend = 0, frame = 8
  97              		@ frame_needed = 0, uses_anonymous_args = 0
  23:App/app.cpp   ****     // -------------- Change huart_x to your appropriate Hardware UART/USART
  98              		.loc 1 23 1 is_stmt 0 view .LVU11
  99 0000 00B5     		push	{lr}
 100              		.save {lr}
 101              	.LCFI1:
 102              		.cfi_def_cfa_offset 4
 103              		.cfi_offset 14, -4
 104              		.pad #12
 105 0002 83B0     		sub	sp, sp, #12
 106              	.LCFI2:
 107              		.cfi_def_cfa_offset 16
 108 0004 0190     		str	r0, [sp, #4]
  25:App/app.cpp   ****     return ch;
 109              		.loc 1 25 5 is_stmt 1 view .LVU12
  25:App/app.cpp   ****     return ch;
 110              		.loc 1 25 22 is_stmt 0 view .LVU13
 111 0006 4FF0FF33 		mov	r3, #-1
 112 000a 0122     		movs	r2, #1
 113 000c 01A9     		add	r1, sp, #4
 114 000e 0348     		ldr	r0, .L13
 115              	.LVL8:
  25:App/app.cpp   ****     return ch;
 116              		.loc 1 25 22 view .LVU14
 117 0010 FFF7FEFF 		bl	HAL_UART_Transmit
 118              	.LVL9:
  26:App/app.cpp   **** }
 119              		.loc 1 26 5 is_stmt 1 view .LVU15
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 6


  27:App/app.cpp   **** #ifdef __cplusplus
 120              		.loc 1 27 1 is_stmt 0 view .LVU16
 121 0014 0198     		ldr	r0, [sp, #4]
 122 0016 03B0     		add	sp, sp, #12
 123              	.LCFI3:
 124              		.cfi_def_cfa_offset 4
 125              		@ sp needed
 126 0018 5DF804FB 		ldr	pc, [sp], #4
 127              	.L14:
 128              		.align	2
 129              	.L13:
 130 001c 00000000 		.word	huart2
 131              		.cfi_endproc
 132              	.LFE66:
 133              		.fnend
 135              		.section	.text.setup,"ax",%progbits
 136              		.align	1
 137              		.global	setup
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 142              	setup:
 143              		.fnstart
 144              	.LFB67:
  57:App/app.cpp   ****     HAL_Delay(1000);
 145              		.loc 1 57 1 is_stmt 1 view -0
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 0
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149 0000 30B5     		push	{r4, r5, lr}
 150              		.save {r4, r5, lr}
 151              	.LCFI4:
 152              		.cfi_def_cfa_offset 12
 153              		.cfi_offset 4, -12
 154              		.cfi_offset 5, -8
 155              		.cfi_offset 14, -4
 156              		.pad #12
 157 0002 83B0     		sub	sp, sp, #12
 158              	.LCFI5:
 159              		.cfi_def_cfa_offset 24
  58:App/app.cpp   **** 
 160              		.loc 1 58 5 view .LVU18
  58:App/app.cpp   **** 
 161              		.loc 1 58 14 is_stmt 0 view .LVU19
 162 0004 4FF47A70 		mov	r0, #1000
 163 0008 FFF7FEFF 		bl	HAL_Delay
 164              	.LVL10:
  60:App/app.cpp   ****     // led.startCallbackClock();
 165              		.loc 1 60 5 is_stmt 1 view .LVU20
  60:App/app.cpp   ****     // led.startCallbackClock();
 166              		.loc 1 60 13 is_stmt 0 view .LVU21
 167 000c 0D4C     		ldr	r4, .L17
 168 000e 0221     		movs	r1, #2
 169 0010 2046     		mov	r0, r4
 170 0012 FFF7FEFF 		bl	_ZN7WS2812B4initEh
 171              	.LVL11:
  70:App/app.cpp   ****     // led.solidColor(0xFF0000, 0, 59);
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 7


 172              		.loc 1 70 5 is_stmt 1 view .LVU22
  70:App/app.cpp   ****     // led.solidColor(0xFF0000, 0, 59);
 173              		.loc 1 70 24 is_stmt 0 view .LVU23
 174 0016 3B25     		movs	r5, #59
 175 0018 0095     		str	r5, [sp]
 176 001a 4FF6FF73 		movw	r3, #65535
 177 001e 0022     		movs	r2, #0
 178 0020 4FF47F01 		mov	r1, #16711680
 179 0024 2046     		mov	r0, r4
 180 0026 FFF7FEFF 		bl	_ZN7WS2812B15gradient2ColorsEmtmt
 181              	.LVL12:
  72:App/app.cpp   ****     // HAL_Delay(2000);
 182              		.loc 1 72 5 is_stmt 1 view .LVU24
  72:App/app.cpp   ****     // HAL_Delay(2000);
 183              		.loc 1 72 15 is_stmt 0 view .LVU25
 184 002a 2046     		mov	r0, r4
 185 002c FFF7FEFF 		bl	_ZN7WS2812B6renderEv
 186              	.LVL13:
  74:App/app.cpp   ****     // led.solidColor(0x00FFFF, 0, 59);
 187              		.loc 1 74 5 is_stmt 1 view .LVU26
  74:App/app.cpp   ****     // led.solidColor(0x00FFFF, 0, 59);
 188              		.loc 1 74 24 is_stmt 0 view .LVU27
 189 0030 0095     		str	r5, [sp]
 190 0032 FF23     		movs	r3, #255
 191 0034 0022     		movs	r2, #0
 192 0036 4FF47F01 		mov	r1, #16711680
 193 003a 2046     		mov	r0, r4
 194 003c FFF7FEFF 		bl	_ZN7WS2812B15gradient2ColorsEmtmt
 195              	.LVL14:
  76:App/app.cpp   **** 
 196              		.loc 1 76 1 view .LVU28
 197 0040 03B0     		add	sp, sp, #12
 198              	.LCFI6:
 199              		.cfi_def_cfa_offset 12
 200              		@ sp needed
 201 0042 30BD     		pop	{r4, r5, pc}
 202              	.L18:
 203              		.align	2
 204              	.L17:
 205 0044 00000000 		.word	led
 206              		.cfi_endproc
 207              	.LFE67:
 208              		.fnend
 210              		.global	__aeabi_fadd
 211              		.section	.rodata.loop.str1.4,"aMS",%progbits,1
 212              		.align	2
 213              	.LC1:
 214 0000 444F4E45 		.ascii	"DONE\000"
 214      00
 215              		.section	.text.loop,"ax",%progbits
 216              		.align	1
 217              		.global	loop
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 222              	loop:
 223              		.fnstart
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 8


 224              	.LFB68:
  86:App/app.cpp   ****     // if (!valueChanged)
 225              		.loc 1 86 1 is_stmt 1 view -0
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 0
 228              		@ frame_needed = 0, uses_anonymous_args = 0
 229 0000 10B5     		push	{r4, lr}
 230              		.save {r4, lr}
 231              	.LCFI7:
 232              		.cfi_def_cfa_offset 8
 233              		.cfi_offset 4, -8
 234              		.cfi_offset 14, -4
 129:App/app.cpp   ****         tick += 0.1f;
 235              		.loc 1 129 5 view .LVU30
 236 0002 05E0     		b	.L20
 237              	.L21:
 130:App/app.cpp   ****     printf("DONE\n");
 238              		.loc 1 130 9 view .LVU31
 130:App/app.cpp   ****     printf("DONE\n");
 239              		.loc 1 130 14 is_stmt 0 view .LVU32
 240 0004 084C     		ldr	r4, .L23
 241 0006 0949     		ldr	r1, .L23+4
 242 0008 2068     		ldr	r0, [r4]	@ float
 243 000a FFF7FEFF 		bl	__aeabi_fadd
 244              	.LVL15:
 245 000e 2060     		str	r0, [r4]	@ float
 246              	.L20:
 129:App/app.cpp   ****         tick += 0.1f;
 247              		.loc 1 129 40 is_stmt 1 view .LVU33
 129:App/app.cpp   ****         tick += 0.1f;
 248              		.loc 1 129 26 is_stmt 0 view .LVU34
 249 0010 074A     		ldr	r2, .L23+8
 250 0012 0549     		ldr	r1, .L23
 251 0014 0748     		ldr	r0, .L23+12
 252 0016 FFF7FEFF 		bl	_ZN7WS2812B10transitionEPff
 253              	.LVL16:
 129:App/app.cpp   ****         tick += 0.1f;
 254              		.loc 1 129 40 view .LVU35
 255 001a 0128     		cmp	r0, #1
 256 001c F2D1     		bne	.L21
 131:App/app.cpp   **** }
 257              		.loc 1 131 5 is_stmt 1 view .LVU36
 131:App/app.cpp   **** }
 258              		.loc 1 131 11 is_stmt 0 view .LVU37
 259 001e 0648     		ldr	r0, .L23+16
 260 0020 FFF7FEFF 		bl	puts
 261              	.LVL17:
 132:App/app.cpp   **** 
 262              		.loc 1 132 1 view .LVU38
 263 0024 10BD     		pop	{r4, pc}
 264              	.L24:
 265 0026 00BF     		.align	2
 266              	.L23:
 267 0028 00000000 		.word	tick
 268 002c CDCCCC3D 		.word	1036831949
 269 0030 00007A44 		.word	1148846080
 270 0034 00000000 		.word	led
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 9


 271 0038 00000000 		.word	.LC1
 272              		.cfi_endproc
 273              	.LFE68:
 274              		.fnend
 276              		.section	.text.HAL_TIM_PWM_PulseFinishedCallback,"ax",%progbits
 277              		.align	1
 278              		.global	HAL_TIM_PWM_PulseFinishedCallback
 279              		.syntax unified
 280              		.thumb
 281              		.thumb_func
 283              	HAL_TIM_PWM_PulseFinishedCallback:
 284              		.fnstart
 285              	.LVL18:
 286              	.LFB69:
 141:App/app.cpp   ****     HAL_TIM_PWM_Stop_DMA(&htim1, TIM_CHANNEL_1);
 287              		.loc 1 141 1 is_stmt 1 view -0
 288              		.cfi_startproc
 289              		@ args = 0, pretend = 0, frame = 0
 290              		@ frame_needed = 0, uses_anonymous_args = 0
 141:App/app.cpp   ****     HAL_TIM_PWM_Stop_DMA(&htim1, TIM_CHANNEL_1);
 291              		.loc 1 141 1 is_stmt 0 view .LVU40
 292 0000 08B5     		push	{r3, lr}
 293              		.save {r3, lr}
 294              	.LCFI8:
 295              		.cfi_def_cfa_offset 8
 296              		.cfi_offset 3, -8
 297              		.cfi_offset 14, -4
 142:App/app.cpp   ****     led.UPDATE_STATE = WS2812B_UPDATE_FINISHED;
 298              		.loc 1 142 5 is_stmt 1 view .LVU41
 142:App/app.cpp   ****     led.UPDATE_STATE = WS2812B_UPDATE_FINISHED;
 299              		.loc 1 142 25 is_stmt 0 view .LVU42
 300 0002 0021     		movs	r1, #0
 301 0004 0348     		ldr	r0, .L27
 302              	.LVL19:
 142:App/app.cpp   ****     led.UPDATE_STATE = WS2812B_UPDATE_FINISHED;
 303              		.loc 1 142 25 view .LVU43
 304 0006 FFF7FEFF 		bl	HAL_TIM_PWM_Stop_DMA
 305              	.LVL20:
 143:App/app.cpp   **** }
 306              		.loc 1 143 5 is_stmt 1 view .LVU44
 143:App/app.cpp   **** }
 307              		.loc 1 143 22 is_stmt 0 view .LVU45
 308 000a 034B     		ldr	r3, .L27+4
 309 000c 0122     		movs	r2, #1
 310 000e 1A70     		strb	r2, [r3]
 144:App/app.cpp   **** 
 311              		.loc 1 144 1 view .LVU46
 312 0010 08BD     		pop	{r3, pc}
 313              	.L28:
 314 0012 00BF     		.align	2
 315              	.L27:
 316 0014 00000000 		.word	htim1
 317 0018 00000000 		.word	led
 318              		.cfi_endproc
 319              	.LFE69:
 320              		.fnend
 322              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 10


 323              		.align	1
 324              		.global	HAL_TIM_PeriodElapsedCallback
 325              		.syntax unified
 326              		.thumb
 327              		.thumb_func
 329              	HAL_TIM_PeriodElapsedCallback:
 330              		.fnstart
 331              	.LVL21:
 332              	.LFB70:
 149:App/app.cpp   ****     callbackCounter++;
 333              		.loc 1 149 1 is_stmt 1 view -0
 334              		.cfi_startproc
 335              		@ args = 0, pretend = 0, frame = 16
 336              		@ frame_needed = 0, uses_anonymous_args = 0
 150:App/app.cpp   ****     if (callbackCounter < CALLED_TIMES_UNTIL_TRIGGERED)
 337              		.loc 1 150 5 view .LVU48
 150:App/app.cpp   ****     if (callbackCounter < CALLED_TIMES_UNTIL_TRIGGERED)
 338              		.loc 1 150 20 is_stmt 0 view .LVU49
 339 0000 144A     		ldr	r2, .L36
 340 0002 1388     		ldrh	r3, [r2]
 341 0004 0133     		adds	r3, r3, #1
 342 0006 9BB2     		uxth	r3, r3
 343 0008 1380     		strh	r3, [r2]	@ movhi
 151:App/app.cpp   ****         return;
 344              		.loc 1 151 5 is_stmt 1 view .LVU50
 345 000a 41F66902 		movw	r2, #6249
 346 000e 9342     		cmp	r3, r2
 347 0010 00D8     		bhi	.L35
 348 0012 7047     		bx	lr
 349              	.L35:
 149:App/app.cpp   ****     callbackCounter++;
 350              		.loc 1 149 1 is_stmt 0 view .LVU51
 351 0014 00B5     		push	{lr}
 352              		.save {lr}
 353              	.LCFI9:
 354              		.cfi_def_cfa_offset 4
 355              		.cfi_offset 14, -4
 356              		.pad #28
 357 0016 87B0     		sub	sp, sp, #28
 358              	.LCFI10:
 359              		.cfi_def_cfa_offset 32
 154:App/app.cpp   ****     valueChanged = 1;
 360              		.loc 1 154 5 is_stmt 1 view .LVU52
 154:App/app.cpp   ****     valueChanged = 1;
 361              		.loc 1 154 25 is_stmt 0 view .LVU53
 362 0018 0223     		movs	r3, #2
 363 001a 0093     		str	r3, [sp]
 364 001c 0322     		movs	r2, #3
 365 001e 0121     		movs	r1, #1
 366 0020 0D48     		ldr	r0, .L36+4
 367              	.LVL22:
 154:App/app.cpp   ****     valueChanged = 1;
 368              		.loc 1 154 25 view .LVU54
 369 0022 FFF7FEFF 		bl	_ZN9ModbusRTU7requestEhhtt
 370              	.LVL23:
 155:App/app.cpp   ****     callbackCounter = 0;
 371              		.loc 1 155 5 is_stmt 1 view .LVU55
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 11


 155:App/app.cpp   ****     callbackCounter = 0;
 372              		.loc 1 155 18 is_stmt 0 view .LVU56
 373 0026 0D4B     		ldr	r3, .L36+8
 374 0028 0122     		movs	r2, #1
 375 002a 1A70     		strb	r2, [r3]
 156:App/app.cpp   **** 
 376              		.loc 1 156 5 is_stmt 1 view .LVU57
 156:App/app.cpp   **** 
 377              		.loc 1 156 21 is_stmt 0 view .LVU58
 378 002c 094B     		ldr	r3, .L36
 379 002e 0022     		movs	r2, #0
 380 0030 1A80     		strh	r2, [r3]	@ movhi
 158:App/app.cpp   **** }
 381              		.loc 1 158 5 is_stmt 1 view .LVU59
 382 0032 0B4B     		ldr	r3, .L36+12
 383 0034 02AA     		add	r2, sp, #8
 384 0036 93E80300 		ldm	r3, {r0, r1}
 385 003a 82E80300 		stm	r2, {r0, r1}
 386 003e 06AB     		add	r3, sp, #24
 387 0040 03E90300 		stmdb	r3, {r0, r1}
 388 0044 4FF40051 		mov	r1, #8192
 389 0048 0648     		ldr	r0, .L36+16
 390 004a FFF7FEFF 		bl	HAL_GPIO_TogglePin
 391              	.LVL24:
 392              		.loc 1 159 1 is_stmt 0 view .LVU60
 393 004e 07B0     		add	sp, sp, #28
 394              	.LCFI11:
 395              		.cfi_def_cfa_offset 4
 396              		@ sp needed
 397 0050 5DF804FB 		ldr	pc, [sp], #4
 398              	.L37:
 399              		.align	2
 400              	.L36:
 401 0054 00000000 		.word	callbackCounter
 402 0058 00000000 		.word	modbusClient
 403 005c 00000000 		.word	valueChanged
 404 0060 00000000 		.word	.LANCHOR0
 405 0064 00100140 		.word	1073811456
 406              		.cfi_endproc
 407              	.LFE70:
 408              		.fnend
 410              		.section	.text._GLOBAL__sub_I___io_putchar,"ax",%progbits
 411              		.align	1
 412              		.syntax unified
 413              		.thumb
 414              		.thumb_func
 416              	_GLOBAL__sub_I___io_putchar:
 417              		.fnstart
 418              	.LFB72:
 419              		.loc 1 159 1 is_stmt 1 view -0
 420              		.cfi_startproc
 421              		@ args = 0, pretend = 0, frame = 0
 422              		@ frame_needed = 0, uses_anonymous_args = 0
 423 0000 08B5     		push	{r3, lr}
 424              	.LCFI12:
 425              		.cfi_def_cfa_offset 8
 426              		.cfi_offset 3, -8
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 12


 427              		.cfi_offset 14, -4
 428              		.loc 1 159 1 is_stmt 0 view .LVU62
 429 0002 4FF6FF71 		movw	r1, #65535
 430 0006 0120     		movs	r0, #1
 431 0008 FFF7FEFF 		bl	_Z41__static_initialization_and_destruction_0ii
 432              	.LVL25:
 433 000c 08BD     		pop	{r3, pc}
 434              		.cfi_endproc
 435              	.LFE72:
 436              		.cantunwind
 437              		.fnend
 439              		.section	.init_array,"aw",%init_array
 440              		.align	2
 441 0000 00000000 		.word	_GLOBAL__sub_I___io_putchar(target1)
 442              		.global	callbackCounter
 443              		.section	.bss.callbackCounter,"aw",%nobits
 444              		.align	1
 447              	callbackCounter:
 448 0000 0000     		.space	2
 449              		.global	tick
 450              		.section	.bss.tick,"aw",%nobits
 451              		.align	2
 454              	tick:
 455 0000 00000000 		.space	4
 456              		.global	transitionTick
 457              		.section	.bss.transitionTick,"aw",%nobits
 458              		.align	2
 461              	transitionTick:
 462 0000 00000000 		.space	4
 463              		.global	curr_LSB
 464              		.section	.bss.curr_LSB,"aw",%nobits
 467              	curr_LSB:
 468 0000 00       		.space	1
 469              		.global	curr_MSB
 470              		.section	.bss.curr_MSB,"aw",%nobits
 473              	curr_MSB:
 474 0000 00       		.space	1
 475              		.global	volt_LSB
 476              		.section	.bss.volt_LSB,"aw",%nobits
 479              	volt_LSB:
 480 0000 00       		.space	1
 481              		.global	volt_MSB
 482              		.section	.bss.volt_MSB,"aw",%nobits
 485              	volt_MSB:
 486 0000 00       		.space	1
 487              		.global	valueChanged
 488              		.section	.bss.valueChanged,"aw",%nobits
 491              	valueChanged:
 492 0000 00       		.space	1
 493              		.global	modbusClient
 494              		.section	.bss.modbusClient,"aw",%nobits
 495              		.align	2
 498              	modbusClient:
 499 0000 00000000 		.space	20
 499      00000000 
 499      00000000 
 499      00000000 
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 13


 499      00000000 
 500              		.global	led
 501              		.section	.bss.led,"aw",%nobits
 502              		.align	2
 505              	led:
 506 0000 00000000 		.space	56
 506      00000000 
 506      00000000 
 506      00000000 
 506      00000000 
 507              		.section	.rodata
 508              		.align	2
 509              		.set	.LANCHOR0,. + 0
 510              	.LC0:
 511 0000 00100140 		.word	1073811456
 512 0004 0020     		.short	8192
 513 0006 0000     		.space	2
 514              		.text
 515              	.Letext0:
 516              		.file 2 "c:\\msys64\\mingw64\\arm-none-eabi\\include\\machine\\_default_types.h"
 517              		.file 3 "c:\\msys64\\mingw64\\arm-none-eabi\\include\\sys\\_stdint.h"
 518              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 519              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 520              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 521              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 522              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 523              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 524              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 525              		.file 11 "App/WS2812B/ws2812b.h"
 526              		.file 12 "App/ModbusRTU/modbusRTU.h"
 527              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 app.cpp
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:19     .text._Z41__static_initialization_and_destruction_0ii:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:24     .text._Z41__static_initialization_and_destruction_0ii:00000000 _Z41__static_initialization_and_destruction_0ii
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:74     .text._Z41__static_initialization_and_destruction_0ii:00000028 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:505    .bss.led:00000000 led
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:498    .bss.modbusClient:00000000 modbusClient
.ARM.exidx.text._Z41__static_initialization_and_destruction_0ii:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:84     .text.__io_putchar:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:90     .text.__io_putchar:00000000 __io_putchar
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:130    .text.__io_putchar:0000001c $d
     .ARM.exidx.text.__io_putchar:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:136    .text.setup:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:142    .text.setup:00000000 setup
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:205    .text.setup:00000044 $d
            .ARM.exidx.text.setup:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:212    .rodata.loop.str1.4:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:216    .text.loop:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:222    .text.loop:00000000 loop
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:267    .text.loop:00000028 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:454    .bss.tick:00000000 tick
             .ARM.exidx.text.loop:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:277    .text.HAL_TIM_PWM_PulseFinishedCallback:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:283    .text.HAL_TIM_PWM_PulseFinishedCallback:00000000 HAL_TIM_PWM_PulseFinishedCallback
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:316    .text.HAL_TIM_PWM_PulseFinishedCallback:00000014 $d
.ARM.extab.text.HAL_TIM_PWM_PulseFinishedCallback:00000000 $d
.ARM.exidx.text.HAL_TIM_PWM_PulseFinishedCallback:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:323    .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:329    .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:401    .text.HAL_TIM_PeriodElapsedCallback:00000054 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:447    .bss.callbackCounter:00000000 callbackCounter
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:491    .bss.valueChanged:00000000 valueChanged
.ARM.exidx.text.HAL_TIM_PeriodElapsedCallback:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:411    .text._GLOBAL__sub_I___io_putchar:00000000 $t
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:416    .text._GLOBAL__sub_I___io_putchar:00000000 _GLOBAL__sub_I___io_putchar
.ARM.exidx.text._GLOBAL__sub_I___io_putchar:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:440    .init_array:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:444    .bss.callbackCounter:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:451    .bss.tick:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:461    .bss.transitionTick:00000000 transitionTick
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:458    .bss.transitionTick:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:467    .bss.curr_LSB:00000000 curr_LSB
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:468    .bss.curr_LSB:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:473    .bss.curr_MSB:00000000 curr_MSB
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:474    .bss.curr_MSB:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:479    .bss.volt_LSB:00000000 volt_LSB
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:480    .bss.volt_LSB:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:485    .bss.volt_MSB:00000000 volt_MSB
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:486    .bss.volt_MSB:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:492    .bss.valueChanged:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:495    .bss.modbusClient:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:502    .bss.led:00000000 $d
C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s:508    .rodata:00000000 $d

UNDEFINED SYMBOLS
_ZN7WS2812BC1EP17TIM_HandleTypeDefmt
_ZN9ModbusRTUC1EP20__UART_HandleTypeDef
ARM GAS  C:\Users\DARSTE~1\AppData\Local\Temp\cc2WC4Cr.s 			page 15


htim1
huart1
HAL_UART_Transmit
huart2
__aeabi_unwind_cpp_pr0
HAL_Delay
_ZN7WS2812B4initEh
_ZN7WS2812B15gradient2ColorsEmtmt
_ZN7WS2812B6renderEv
__aeabi_fadd
_ZN7WS2812B10transitionEPff
puts
HAL_TIM_PWM_Stop_DMA
__aeabi_unwind_cpp_pr1
_ZN9ModbusRTU7requestEhhtt
HAL_GPIO_TogglePin
